<div class="pageWrapper" [ngClass]="{'pageWrapper--loading': loading}">
  <mat-spinner *ngIf="loading; else movieTemplate"></mat-spinner>
  <ng-template #movieTemplate>
    <div class="pageWrapper__movie">
      <div class="movie__image">
        <app-image-wrapper></app-image-wrapper>
      </div>
      <div class="movie__info">
        <app-movie-form [movieForm]="movieForm" [editMode]="editMode"></app-movie-form>
        <div class="info__actions">
          <button mat-flat-button color="primary" *ngIf="!editMode; else editActions" (click)="editToggle()">
            <mat-icon>create</mat-icon> Edit
          </button>

          <ng-template #editActions>
            <button mat-flat-button color="warn" (click)="editToggle()">
              <mat-icon>delete</mat-icon> Delete
            </button>
            <button mat-flat-button color="accent" (click)="revert()">
              <mat-icon>undo</mat-icon> Cancel
            </button>
            <button mat-flat-button color="primary" (click)="save()">
              <mat-icon>save</mat-icon> Save
            </button>
          </ng-template>
        </div>
      </div>
    </div>
  </ng-template>
</div>